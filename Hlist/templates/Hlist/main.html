<html>
  <head>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> 
    <meta charset="utf-8">
    <title>HomePage</title>
    <meta name="description" content="A Bootstrap 4 admin dashboard theme that will get you started. The sidebar toggles off-canvas on smaller screens. This example also include large stat blocks, modal and cards. The top navbar is controlled by a separate hamburger toggle button." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Codeply">
    <!--토글버튼 CDN-->
    <script src='//unpkg.com/jquery@3/dist/jquery.min.js'></script>
    <script src='//unpkg.com/popper.js@1/dist/umd/popper.min.js'></script>
    <link href="//cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.4.0/css/bootstrap4-toggle.min.css" rel="stylesheet">  
    <script src="//cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.4.0/js/bootstrap4-toggle.min.js"></script>
    <!--토글버튼 CDN END-->
      
     <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
      
      
      
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="static/css/styles.css" />
      
      
      <!--자바 스크립트 함수-->
      <script language = "javascript">
          function checkboxchecked(num,ck){
              if(document.getElementById(ck).checked){
                  document.getElementById(num).style.textDecoration="line-through";
              }
              else{
                  document.getElementById(num).style.textDecoration="none";
              }
          }
      </script>
    <script language="javascript">
          var Id=0;
          function saveId(id){
              Id=id;
          }
          function postdelete(){
              Id=Id-10000;
              location.href="delete/" + Id;
          }
      </script>
      
  </head>
    <!--
    이때까지한것: 사용자 로그인 아이콘등록, 마일리지박스, basic frame에서 위치조정 , 휴가관련 입력, 수정버튼 링크타기, 휴가관련 입력, 수정버튼 링크타기, 메모 등록 띄우기, 해야할일 틀찾고 입력, 메모 삭제기능 추가, 체크리스트 DB연동구현
    ,추가버튼 레이아웃 조정,체크리스트 전부 체크해제 만들기, 마일리지 총합

    예정된것: 메모장 추가 해서 계속 추가 할수 있도록 해보기(나중에-색편성), 로그인기능 넣기, 마일리지 자동계산->일수->남은 시간, 할일 요일에맞게 자동 추가되는 기능구현

    메모장관련:  수정하기(모달로? 입력도?) & 입력페이지 HTML짜기


    밑줄라인이 그어지질 않음=>원인: 메모의id랑 같아버려졌음-> 메모아이디를1000추가함 문제점: 임시방편일뿐 새로운 id태그 필요
    
    쓸만한것: 부트스트랩 모달 기능

-->
    
    
    
    
  <body >
      
      
    <nav class="navbar fixed-top navbar-expand-md navbar-dark bg-primary mb-3">
    <div class="flex-row d-flex">
        <button type="button" class="navbar-toggler mr-2 " data-toggle="offcanvas" title="Toggle responsive left sidebar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="/" title="Free Bootstrap 4 Admin Template">HOME</a><!-- 메인 메뉴-->
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="collapsingNavbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="admin/">AdminPage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="checkboxrelease/">Release All CheckBox</a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                {% if user.is_authenticated %}
                    <a class="navbar-brand" style="font-weight:bold" href="logout/" >Logout</a>
                {% else %}
                    <a class="navbar-brand" style="font-weight:bold" href="login/">LogIn</a>
                {% endif %}
            </li>
        </ul>
    </div>
</nav>
      
      <!--- north nav bar end---->
      
      
<div class="container-fluid" id="main">
    <div class="row row-offcanvas row-offcanvas-left">
        <div class="col-md-3 col-lg-2 sidebar-offcanvas bg-light pl-0" id="sidebar" role="navigation">
            <ul class="nav flex-column sticky-top pl-0 pt-5 mt-3">
                <li class="nav-item"><a class="nav-link" href="#">인수인계및 파일업로드 넣기</a></li>
                <li class="nav-item">
                    <a class="nav-link" href="#submenu1" data-toggle="collapse" data-target="#submenu1">Reports▾</a>
                    <ul class="list-unstyled flex-column pl-3 collapse" id="submenu1" aria-expanded="false">
                       <li class="nav-item"><a class="nav-link" href="">Report 1</a></li>
                       <li class="nav-item"><a class="nav-link" href="">Report 2</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="#">Analytics</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Export</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Snippets</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Flexbox</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Layouts</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Templates</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Themes</a></li>
            </ul>
        </div>
        <!--/col-->
        <!--left nav var end-->
        
        <!--memo start-->
        <div class="col main pt-5 mt-3">
            <div>
                <h1 class="display-6 d-none d-sm-block">
                    Military Homepage
                </h1>
                <p class="lead d-none d-sm-block">2020년 10월31일 전역</p>
            </div>
            
            <div class="alert alert-warning fade collapse" role="alert" id="myAlert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <strong>Holy guacamole!</strong> It's free.. this is an example theme.
            </div>
                                    

        <div class="col-xs-12">
            <div class="row mb-3">
            {% for x in memo%}
                {% if x.memoid == 1 %}
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card bg-success text-white h-100">
                        <div class="card-body bg-success">
                            <h6 class="text-uppercase"> {{x.memotitle}}</h6>
                            <h1 class="display-8">{{x.memotext}}</h1>
                            {% if user.is_authenticated %}
                            <div class="float-md-right">
                                    <button class="btn btn-dark disabled btn-sm">수정</button>
                                    <button class="btn btn-dark disabled btn-sm" id={{x.memoid|add:'10000'}} data-toggle="modal" data-target="#delete_modal" onclick="saveId({{x.memoid|add:'10000'}})">삭제</button>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% elif x.memoid == 2 %}
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-danger h-100">
                        <div class="card-body bg-danger">
                            <h6 class="text-uppercase">{{x.memotitle}}</h6>
                            <h1 class="display-8">{{x.memotext}}</h1>
                            {% if user.is_authenticated %}
                            <div class="float-md-right">
                                <button class="btn btn-dark disabled btn-sm">수정</button>
                                <button class="btn btn-dark disabled btn-sm" id={{x.memoid|add:'10000'}} data-toggle="modal" data-target="#delete_modal" onclick="saveId({{x.memoid|add:'10000'}})">삭제</button>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% elif x.memoid == 3 %}
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-info h-100">
                        <div class="card-body bg-info">
                            <h6 class="text-uppercase">{{x.memotitle}}</h6>
                            <h1 class="display-8">{{x.memotext}}</h1>
                            {% if user.is_authenticated %}
                            <div class="float-md-right">
                                <button class="btn btn-dark disabled btn-sm">수정</button>
                                <button class="btn btn-dark disabled btn-sm" id={{x.memoid|add:'10000'}} data-toggle="modal" data-target="#delete_modal" onclick="saveId({{x.memoid|add:'10000'}})">삭제</button>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% elif x.memoid == 4 %}
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-warning h-100">
                        <div class="card-body">
                            <h6 class="text-uppercase">{{x.memotitle}}</h6>
                            <h1 class="display-8">{{x.memotext}}</h1>
                            {% if user.is_authenticated %}
                            <div class="float-md-right">
                                <button class="btn btn-dark disabled btn-sm">수정</button>
                                <button class="btn btn-dark disabled btn-sm" id={{x.memoid|add:'10000'}} data-toggle="modal" data-target="#delete_modal" onclick="saveId({{x.memoid|add:'10000'}})">삭제</button>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
          
            {% endif %}
            {% endfor %}
                {% if user.is_authenticated %}
                <div class="col-xl-3 col-sm-6 py-2">
                        <button type="button" class="btn btn-outline-primary h-100 w-100" style="font-size:25px" onclick="location.href='post/'">추가</button>
                </div>
                {% endif %}
            </div>
        </div>
    <hr>
    <div class="row mb-3">
                <div class="col">
                    <div class="card mb-3">
                        <div class="card-header">
                            <h4 class="text-center">
                                Today to do
                            </h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                 <div class="col">
                                    <div class="text-center">
                                        <h4 >야간</h4>
                                     </div>
                                     <form action="eveningCheckBox/" method="POST">
                                        <table class="table table-bordered">
                                            {% csrf_token %}
                                            {% for ev in evening %}
                                            <tr>
                                                <td class="text-center" id={{ev.id|add:'100'}}
                                                {% if ev.find_check %}
                                                    style="text-decoration:line-through"
                                                {% endif %}
                                                    >{{ev.evening_name}}</td>
                                                <td class="text-center" ><input type="checkbox" style='zoom:2.0;' onclick="checkboxchecked({{ev.id|add:'100'}},{{forloop.counter}})" id={{forloop.counter}}
                                                name="chk[]" value={{ev.id}}
                                                {% if ev.find_check %}
                                                checked="checked"
                                                {% endif %}></td>
                                            </tr>
                                            {% endfor %}
                                            {% if user.is_authenticated %}
                                            <tr>
                                                <td colspan=2><button class="btn btn-primary disabled col" width="1000px">저장</button></td>
                                            </tr>
                                            {% endif %}
                                        </table>
                                    </form>
                                </div>
                                <div class="col">
                                    <div class="text-center">
                                        <h4>조간</h4>
                                    </div>
                                     <form action="dawnCheckBox/" method="POST">
                                        <table class="table table-bordered">
                                            {% csrf_token %}
                                            {% for da in dawn %}
                                            <tr>
                                                <td class="text-center" id={{da.id|add:'200'}}
                                                {% if da.find_check %}
                                                    style="text-decoration:line-through"
                                                {% endif %}
                                                    >{{da.dawn_name}}</td>
                                                <td class="text-center" ><input type="checkbox" style='zoom:2.0;' onclick="checkboxchecked({{da.id|add:'200'}},{{forloop.counter|add:'20'}})" id={{forloop.counter|add:'20'}}
                                                name="chkD[]" value={{da.id}}
                                                {% if da.find_check %}
                                                checked="checked"
                                                {% endif %}></td>
                                            </tr>
                                            {% endfor %}
                                            {% if user.is_authenticated %}
                                            <tr>
                                                <td colspan=2><button class="btn btn-primary disabled col" width="1000px">저장</button></td>
                                            </tr>
                                            {% endif %}
                                        </table>
                                    </form>
                                 </div>
                            </div>
                            
                        </div>
                    </div>
                 </div>
              </div>
            <!--/row-->
<!--memo end-->
            <!--마일리지 박스 시작-->
            <div class="row my-4">
                <div class="col-lg-3 col-md-4">
                    <div class="card card-inverse bg-inverse mt-3">
                        <div class="card-body">
                            <div class="card-title">
                                <div class="row justify-content-between">
                                    <div class="col">
                                        <h3 class="title">마일리지</h3>
                                    </div>
                                </div>                                
                            </div>
                                   <!--row end-->
                        </div>
                                <ul>
                                    {% for i in mileage %}
                                    <li>
                                        <h5>
                                            {{i.month}}&nbsp:&nbsp&nbsp&nbsp&nbsp{{i.times}} 시간
                                        </h5>
                                    </li>
                                    {% endfor %}
                                    <br>
                                    <li>
                                        <h5>
                                            총합&nbsp:&nbsp&nbsp&nbsp&nbsp{{mileagesum.times__sum}}  시간
                                        </h5>
                                    </li>
                                </ul>              
                        </div>
                    </div>
 <!--마일리지 부분 끝-->
                <!--vacation table start-->
                <hr>
                <div class="col-lg-9 col-md-8 ml-auto">
                        <div class="card-body">
                            <h4 class="card-title">
                                    남은 휴가
                            </h4>
                        
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead class="thead-inverse">
                                    <tr>
                                        <th>#</th>
                                        <th>휴가이름</th>
                                        <th>남은 휴가일수</th>
                                        <th>휴가일수</th>
                                        <th>건의 올라간 월</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for i in vacation %}
                                        <tr>
                                            <td>{{i.id}}</td>
                                            <td>{{i.vacation_name}}</td>
                                            <td>{{i.vacation_left_date}}</td>
                                            <td>{{i.vacation_date}}</td>
                                            <td>{{i.doucument_payment}}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            </div>
                        </div>
                </div>
                <hr>
                <div class="col-lg-9 col-md-8 ml-auto">
                    <div class="card-body">
                        <h4 class="card-title">
                            사용한 휴가
                        </h4>
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead class="thead-inverse">
                                    <tr>
                                        <th>#</th>
                                        <th>휴가이름</th>
                                        <th>사용한 휴가일수</th>
                                        <th>사용일자</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for i in used_vacation %}
                                        <tr>
                                            <td>{{i.id}}</td>
                                            <td>{{i.vacation_name}}</td>
                                            <td>{{i.vacation_date}}</td>
                                            <td>{{i.used_date}}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!--row-->
<!--vacation table end-->
 
        <!--/main col-->
    </div>

</div>
<!--/.container-->
<footer class="container-fluid">
    <p class="text-right small">©2020-2021 Company</p>
</footer>


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Modal</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <p>This is a dashboard layout for Bootstrap 4. This is an example of the Modal component which you can use to show content.
                Any content can be placed inside the modal and it can use the Bootstrap grid classes.</p>
                <p>
                    <a href="https://www.codeply.com/go/KrUO8QpyXP" target="_ext">Grab the code at Codeply</a>
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary-outline" data-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>
<!-- The delete Modal -->
<div class="modal" id="delete_modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">삭제하기</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
            정말 메모를 삭제하시겠습니까?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" onclick=postdelete()>확인</button>
          <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
      </div>
    </div>
  </div>
</div>

      
    <!--scripts loaded here-->
      
      
      
      
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
  </body>
</html>